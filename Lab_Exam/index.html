<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Registration System</title>

    <style>
        body{
            font-family: Arial, sans-serif;
            background:#f5f5f5;
            padding:20px;
        }
        .product, .Registration, .stats-container{
            background:rgb(238, 163, 163);
            padding:15px;
            border-radius:5px;
            margin-bottom:20px;
        }
        input, textarea, select{
            width:100%;
            padding:8px;
            margin-bottom:10px;
        }
        button{
            width:100%;
            padding:10px;
            background:black;
            color:rgb(20, 184, 39);
            border:none;
            cursor:pointer;
        }
        .error{color:red;font-size:14px;margin-bottom:10px;}
        .stats-box{display:none;margin-top:15px;}
    </style>
</head>
<body>

<div class="product">
    <h2> Event Registration</h2>
    <p>Join our international team events.</p>
</div>

<div class="Registration">
    <h3>Register Now</h3>

    <form id="registrationForm">

        <label>Full Name *</label>
        <input type="text" id="name" placeholder="Enter full name">
        <p class="error" id="nameError"></p>

        <label>Professional Email *</label>
        <input type="text" id="email" placeholder="example@company.com">
        <p class="error" id="emailError"></p>

        <label>Company / Institution (Optional)</label>
        <input type="text" id="company" placeholder="Your company name">

        <label>Attendance Type *</label><br>
        <input type="radio" name="attendance" value="Virtual" id="virtual"> Virtual
        <input type="radio" name="attendance" value="In-Person" id="inperson"> In-Person
        <p class="error" id="attendanceError"></p>

        <button type="submit">Submit Registration</button>
    </form>
</div>

<button id="toggleStats" style="padding:10px;background:black;color:rgb(175, 223, 42);border:none;width:100%;cursor:pointer;">
    Show Event Analytics
</button>

<div class="stats-container">
    <h3>Event Analytics</h3>
    <div class="stats-box" id="statsBox">
        <p>Total Registrants: <span id="totalRegistrants">0</span></p>
        <p>Virtual: <span id="virtualCount">0</span></p>
        <p>In-Person: <span id="inPersonCount">0</span></p>
    </div>
</div>

<script>
    let registrants = [];

    const nameInput = document.getElementById("name");
    const emailInput = document.getElementById("email");
    const nameError = document.getElementById("nameError");
    const emailError = document.getElementById("emailError");
    const attendanceError = document.getElementById("attendanceError");


    nameInput.addEventListener("input", function() {
        if (nameInput.value.trim().length < 6 || nameInput.value.trim().length > 100) {
            nameError.innerHTML = "Name must be between 6 and 100 characters.";
        } else {
            nameError.innerHTML = "";
        }
    });

    emailInput.addEventListener("input", function() {
        let mail = emailInput.value.trim();
        if (!mail.includes("@") || !mail.includes(".")) {
            emailError.innerHTML = "Please enter a valid professional email address.";
        } else {
            emailError.innerHTML = "";
        }
    });

    document.getElementById("registrationForm").addEventListener("submit", function(event){
        event.preventDefault();

        let name = nameInput.value.trim();
        let email = emailInput.value.trim();
        let company = document.getElementById("company").value.trim();
        let attendance = document.querySelector('input[name="attendance"]:checked');
        
        let isValid = true;

     
        if (name.length < 6 || name.length > 100) {
            nameError.innerHTML = "Name must be between 6 and 100 characters.";
            isValid = false;
        }

        if (!email.includes("@") || !email.includes(".")) {
            emailError.innerHTML = "Please enter a valid professional email address.";
            isValid = false;
        }

        if (!attendance) {
            attendanceError.innerHTML = "Please select your attendance type.";
            isValid = false;
        } else {
            attendanceError.innerHTML = "";
        }

        if (!isValid) return;

        let person = {
            name: name,
            email: email,
            company: company,
            attendance: attendance.value
        };

        registrants.push(person);

        updateStats();

        document.getElementById("registrationForm").reset();
        nameError.innerHTML = "";
        emailError.innerHTML = "";
        attendanceError.innerHTML = "";
    });

    function updateStats() {
        document.getElementById("totalRegistrants").innerHTML = registrants.length;
        document.getElementById("virtualCount").innerHTML = registrants.filter(x => x.attendance === "Virtual").length;
        document.getElementById("inPersonCount").innerHTML = registrants.filter(x => x.attendance === "In-Person").length;
    }

 
    document.getElementById("toggleStats").addEventListener("click", function(){
        let stats = document.getElementById("statsBox");
        let btn = document.getElementById("toggleStats");

        if (stats.style.display === "block") {
            stats.style.display = "none";
            btn.innerHTML = "Show Event Analytics";
        } else {
            stats.style.display = "block";
            btn.innerHTML = "Hide Event Analytics";
        }
    });
</script>

</body>
</html>
